<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Print testing setup</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ site.baseurl }}/css/type/type.css" type="text/css">
    <link rel="stylesheet" href="{{ site.baseurl }}/css/style.css" type="text/css">
    <link rel="stylesheet" href="{{ site.baseurl }}/css/book.css" type="text/css">
    <script src="{{ site.baseurl }}/script/cssregions.js"></script>
  </head>
  <body class="_book">


  <nav class="print-nav">
    Hey. This uses a CSS regions polyfill.
    <a class="toggle-btn" id="toggleprint" href="#">Toggle print mode</a>
  </nav>

  <script type="text/javascript">
    var toggler = document.getElementById("toggleprint");
    var bod = document.body;
    var toggleprint = function(e) {
      e.preventDefault();
      if (bod.classList.contains("_book")) {
        bod.classList.remove("_book");
      }
      else {
        bod.classList.add("_book");
      }
    };
    toggler.addEventListener("click", toggleprint);

  </script>
<!-- 

We're using a polyfill for CSS Regions.

It takes the continuous steam of content from content-source,
and then send it through the regions in content-region (which
represent individual printed pages.)

-->
    <div class="content-source">
    	{{ content }}
    </div>
<!-- 

Because of how CSS Regions works, we can't tell how many
pages will be necessary. Right now I'm just creating 20
to start out. If this polyfill works out, we can
experiment with adding/removing them dynamically

-->
    {% for num in (1...16) %}
    	<div class="page-outer" data-page="{{ num }}">
	    	<header>
          Title or something
        </header>
	    	<div class="content-region page-inner">
	    	</div>
	    	<footer>{{ num }}</footer>
	    </div>
    {% endfor %}


  </body>
</html>
