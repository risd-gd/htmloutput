/* ----------------------------------

CSS Region flow (used by the polyfill)

----------------------------------*/


._book .content-source {
    flow-into: content-flow contents;
}

._book .content-region {
    flow-from: content-flow;
    region-fragment: break;
}

/* ----------------------------------

Book overall style

----------------------------------*/

._book {
	font-size: 10pt;
}


/* ----------------------------------

Page size and paginalia

----------------------------------*/

.page-outer {
	height: 8.25in;
	width: 6in;
	position: relative;
    page-break-after: always;
    margin: auto;
}

.page-inner {
	position: absolute;
	margin: auto;
	bottom: 1in;
	top: 0.2in;
	left: 0.4in;
	right: 0.4in;
}

.page-outer footer {
	font-size: 2em;
	position: absolute;
	text-align: center;
	margin: auto;
	bottom: 0.2in;
	left: 0;
	right: 0;
}

.page-outer header {
	position: absolute;
	bottom: 4in;
	text-align: right;
	text-transform: uppercase;
	letter-spacing: 0.2em;
	font-family: Messenger Mono;
	font-size: 0.8rem;
}

.page-outer:nth-child(odd) header {
	-webkit-transform-origin: top left;
	-webkit-transform: rotate(90deg);
	left: 0.3in;
}

.page-outer:nth-child(even) header {
	-webkit-transform-origin: top right;
	-webkit-transform: rotate(-90deg);
	right: 0.3in;
}

/*._book img {
	width: 100%;
}*/

._book iframe {
	width: 8.5in;
	height: 11in;
	margin: 0 -1in;
}

/* ----------------------------------

Book image spreads

----------------------------------*/

._book-spread-l,
._book-spread-r {
	height: 7in;
	overflow: hidden;
	width: 100%;
	position: relative;
	outline: 1px solid magenta;
	break-after: region;
	box-sizing: content-box;
}

._fullbleed ._book-spread-l,
._fullbleed ._book-spread-r {
	margin: -0.5em -0.5in;
	padding: 0.5em 0.5in;
}

._fullbleed figcaption {
	position: absolute;
	background: white;
	bottom: 0;
	font-size: 10pt;
}

._book-spread-l > img,
._book-spread-r > img {
	position: absolute;
	display: block;
	outline: 1px solid orange;
	top: 0;
	width: 195%;
	/* less than 200% to account for bleed and spine */
}

._book-spread-l {
	padding-right: 0.5in;
}

._book-spread-r {
	padding-left: 0.5in;
	margin-left: -0.5in;
	/* 'Undo' the inside margin */
}

._book-spread-l img {
	left: 0;
}

._book-spread-r img {
	right: 0;
	text-align: right;
}


/* ----------------------------------

For previewing the print

----------------------------------*/

.print-nav {
	display: none;
}

@media screen {
	._book body {
		max-width: none;
		background: #eee
	}

	.page-inner {
		outline: 1px solid cyan;
	}

	.page-outer {
		background: white;
		display: inline-block;
		overflow: hidden;
	    margin-bottom: 1rem;
	    box-shadow: 0px 2px 3px rgba(0,0,0,0.1);
	    outline: 1px solid rgba(0,0,0,0.1)
	}

	.page-outer[data-page='1'] {
		display: block;
		margin: 1rem auto;
	}

	.print-nav {
		position: fixed;
		bottom: 0;
		right: 0;
		left: 0;
		background: white;
		display: block;
		z-index: 999;
	}

}


/* ----------------------------------

Faked print styles

----------------------------------*/


._book ._page-break {
	display: block;
	border: 1px solid red;
	break-after: region;
	margin-bottom: 6in;
	opacity: 0.1;
}

._book ._page-break:after {
	content: "Force a page break!";
	position: absolute;
	color: red;
}


/* ----------------------------------

"Actual" print styles

----------------------------------*/

@media print {
	body, html {
		margin: 0;
		padding: 0;
	}

	.page-outer {
		margin-top: 0.2in;
		outline: 1px black;
	}
}
/*
@page {
	margin: 0;
	width: 8.5in;
	height: 11in;
}


@page :left{
	margin-left: 1in;
}

@page :right{
	margin-right: 1in;
}

*/