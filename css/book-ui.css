/* ----------------------------------

CSS Region flow (used by the polyfill)

----------------------------------*/


._book .content-source {
    flow-into: content-flow contents;
}

._book .content-region {
    flow-from: content-flow;
    region-fragment: break;
}


/* ----------------------------------

Faked print styles

----------------------------------*/


._book ._page-break {
	display: block;
	outline: 1px solid red;
	break-after: region;
	/* margin-bottom: 6in; */
	opacity: 0.1;
}

/* ----------------------------------

For previewing the print

----------------------------------*/

.print-nav {
	display: none;
	font: 15px/1.4 'Messenger Text', sans-serif;
}

._book body:not(._regions-loaded) .content-source {
	width: 4.25in;
	margin: auto;
	background: white;
	padding: 0.3in 0.4in;
	box-shadow: 0px 2px 3px rgba(0,0,0,0.1);
    outline: 1px solid black;
}


@media screen {
	._book body {
		max-width: 11in;
		background: #eee;
	}

	._book body._regions-loaded {
		margin-top: 0;
	}

	._book-pages {
		visibility: hidden;
	}

	._regions-loaded ._book-pages {
		visibility: visible;
	}


	.page-outer {
		background: white;
		display: inline-block;
	    margin: 30px 20px;
	    box-shadow: 0px 2px 3px rgba(0,0,0,0.1);
	    outline: 1px solid black;
	    overflow: hidden;
	}

	._guides .page-outer {
		overflow: visible;
	}

	/* bleed line */
	._guides .page-inner {
		outline: 1px solid cyan;
	}

	/* margin line */
	._guides .page-outer::after {
		content: "";
		border: 1px dotted cyan;
		position: absolute;
		display: block;
		bottom: 0.5in;
		top: 0.2in;
		left: 0.4in;
		right: 0.4in;
		pointer-events: none;
	}

	/* page line */
	._guides .page-outer::before {
		content: "";
		border: 1px solid magenta;
		position: absolute;
		display: block;
		bottom: 0in;
		top: 0in;
		left: 0in;
		right: 0in;
		z-index: 100;
		pointer-events: none;
	}

	/* page break line */
	._guides ._book ._page-break:after {
		content: "Force a page break!";
		position: absolute;
		color: red;
	}



	.page-outer[data-page='1'] {
		display: block;
		margin: 1rem auto;
	}

	.print-nav {
		position: fixed;
		bottom: 0;
		right: 0;
		left: 0;
		background: white;
		display: block;
		z-index: 999;
		padding: 15px;
		border-top: 1px solid gray;
	}

	.toggle-btn {
		padding: 0.3em 1em;
		display: inline;
		margin: -0.3em 0;
		-webkit-appearance: none;
		border: none;
		color: white;
		background: black;
		cursor: pointer;
	}

	.toggle-btn:hover {
		background: blue;
	}

	#progbar {
		position: fixed;
		bottom: 0;
		left: 0;
		right: 0;
		width: 100%;
		height: 51px;
		-webkit-appearance: none;
		appearence: none;
		border: 0;
		z-index: -1;
		background: white;
	}

	#progbar[value]::-webkit-progress-bar {
  		background-color: white;
  	}

  	#progbar[value]::-webkit-progress-value {
  		background: #eee;
  	}

}

/* ----------------------------------

Actual print styles

----------------------------------*/

@media print {
	body, html {
		margin: 1px;
		padding: 0;
	}

	.page-outer {
		/*margin-top: 0.2in;*/
		/*outline: 1px solid black;*/
	}
}